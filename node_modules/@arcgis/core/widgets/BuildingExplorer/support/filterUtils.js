/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
import{isSome as r}from"../../../core/maybe.js";import{generateUUID as t}from"../../../core/uuid.js";import n from"../../../layers/support/BuildingFilterBlock.js";import o from"../../../layers/support/BuildingFilterModeSolid.js";import i from"../../../layers/support/BuildingFilterModeXRay.js";const e="__BUILDING_EXPLORER_FILTER__";function f(){return`${t()}${e}`}function s(r){const t="string"==typeof r?r:r.id;return!!t&&-1!==t.indexOf(e)}function l(t,n){for(const o of t.items)for(const t of o.filters.items){if(!s(t))continue;const o=n(t);if(r(o))return o}return null}function u(t,n){t.forEach((t=>{const o=t.filters.filter((r=>!s(r)));r(n)&&o.push(n),t.filters=o,t.activeFilterId=r(n)?n.id:null}))}function c(r){const t=m(r);return t?new n({filterExpression:t,filterMode:new i}):null}function p(r){const t=m(r);return t?new n({filterExpression:t,filterMode:new o}):null}function m(r){return r.filter((r=>!!r)).map((r=>`(${r})`)).join(" AND ")}export{f as generateFilterId,p as getFilterBlockSolid,c as getFilterBlockXRay,l as getValueFromFilters,s as isBuildingExplorerFilter,u as setFilterOnLayers};
