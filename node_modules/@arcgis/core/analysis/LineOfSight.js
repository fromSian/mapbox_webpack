/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
import{_ as t}from"../chunks/tslib.es6.js";import e from"./Analysis.js";import r from"./LineOfSightTarget.js";import o from"../core/Collection.js";import{castForReferenceSetter as s,referenceSetter as i}from"../core/collectionUtils.js";import{clone as n}from"../core/lang.js";import{isNone as p,isSome as a}from"../core/maybe.js";import{property as c}from"../core/accessorSupport/decorators/property.js";import"../core/accessorSupport/ensureType.js";import{subclass as l}from"../core/accessorSupport/decorators/subclass.js";import m from"../geometry/Extent.js";import u from"../geometry/Point.js";import{fromValues as f,expand as g}from"../geometry/support/aaBoundingRect.js";var y;const h=o.ofType(r);let v=y=class extends e{constructor(t){super(t),this.type="line-of-sight",this.observer=null}get targets(){return this._get("targets")||new h}set targets(t){this._set("targets",i(t,this.targets,h))}get extent(){if(p(this.observer))return null;const t=f(this.observer.x,this.observer.y,this.observer.x,this.observer.y);for(const e of this.targets)a(e.location)&&g(t,e.location,t);return m.fromBounds(t,this.observer.spatialReference)}clone(){return new y({intersection:n(this.intersection),observer:n(this.observer),targets:n(this.targets),...this.cloneBaseAnalysisProperties()})}};t([c()],v.prototype,"type",void 0),t([c()],v.prototype,"intersection",void 0),t([c({type:u})],v.prototype,"observer",void 0),t([c({cast:s,type:h,nonNullable:!0})],v.prototype,"targets",null),t([c({value:null})],v.prototype,"extent",null),v=y=t([l("esri.analysis.LineOfSight")],v);const b=v;export{b as default};
