/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
import{_ as t}from"../../../../chunks/tslib.es6.js";import e from"../../../../core/Accessor.js";import{destroyMaybe as i,unwrapOr as a}from"../../../../core/maybe.js";import{property as s}from"../../../../core/accessorSupport/decorators/property.js";import"../../../../core/arrayUtils.js";import"../../../../core/has.js";import"../../../../core/accessorSupport/ensureType.js";import{subclass as l}from"../../../../core/accessorSupport/decorators/subclass.js";import{defaultUnitPropertyMetadata as n}from"../../../../properties/defaultUnit.js";import{AnalysisView3D as o}from"../AnalysisView3D.js";import{DirectLineMeasurementController as r}from"./DirectLineMeasurementController.js";import{DirectLineMeasurementVisualization as u}from"./DirectLineMeasurementVisualization.js";let p=class extends(o(e)){constructor(t){super(t),this.type="direct-line-measurement-view-3d",this.result=null,this.measurementMode=0,this.elevationAlignedStartPoint=null,this.elevationAlignedEndPoint=null}initialize(){const t=this.view,e=this.analysis;this._analysisVisualization=new u({view:t,analysis:e,analysisView:this}),this._analysisController=new r({view:t,analysis:e,viewData:this})}destroy(){this._analysisController=i(this._analysisController),this._analysisVisualization=i(this._analysisVisualization)}whenReady(){return this._analysisVisualization.whenReady()}get updating(){var t;return!(null==(t=this._analysisVisualization)||!t.loadingMessages)}get viewMode(){return this._analysisVisualization.viewMode}get visualizedMeasurement(){return this.measurementMode}set visualizedMeasurement(t){this.measurementMode=t}get actualVisualizedMeasurement(){return this._analysisVisualization.actualVisualizedMeasurement}get visualElementOrientation(){return this._analysisVisualization.visualElementOrientation}set visualElementOrientation(t){this._analysisVisualization.visualElementOrientation=t}get allowVisualElementsOrientationChange(){return this._analysisVisualization.allowVisualElementsOrientationChange}set allowVisualElementsOrientationChange(t){this._analysisVisualization.allowVisualElementsOrientationChange=t}get triangleCollapseRatioThreshold(){return this._analysisVisualization.triangleCollapseRatioThreshold}set triangleCollapseRatioThreshold(t){this._analysisVisualization.triangleCollapseRatioThreshold=t}get directLabelText(){return this._analysisVisualization.labels.direct.text}get horizontalLabelText(){return this._analysisVisualization.labels.horizontal.text}get verticalLabelText(){return this._analysisVisualization.labels.vertical.text}get testData(){var t;return this.destroyed?{labels:null,stripeLength:null,visualization:null,controller:null}:{...null==(t=this._analysisVisualization)?void 0:t.testData,visualization:this._analysisVisualization,controller:this._analysisController}}get unit(){return a(this.analysis.unit,this._defaultUnit)}};t([s()],p.prototype,"updating",null),t([s()],p.prototype,"type",void 0),t([s()],p.prototype,"analysis",void 0),t([s()],p.prototype,"result",void 0),t([s()],p.prototype,"measurementMode",void 0),t([s()],p.prototype,"elevationAlignedStartPoint",void 0),t([s()],p.prototype,"elevationAlignedEndPoint",void 0),t([s({readOnly:!0})],p.prototype,"viewMode",null),t([s()],p.prototype,"visualizedMeasurement",null),t([s({readOnly:!0})],p.prototype,"actualVisualizedMeasurement",null),t([s()],p.prototype,"visualElementOrientation",null),t([s()],p.prototype,"allowVisualElementsOrientationChange",null),t([s()],p.prototype,"triangleCollapseRatioThreshold",null),t([s({readOnly:!0})],p.prototype,"directLabelText",null),t([s({readOnly:!0})],p.prototype,"horizontalLabelText",null),t([s({readOnly:!0})],p.prototype,"verticalLabelText",null),t([s()],p.prototype,"testData",null),t([s()],p.prototype,"_analysisVisualization",void 0),t([s()],p.prototype,"_analysisController",void 0),t([s()],p.prototype,"unit",null),t([s(n)],p.prototype,"_defaultUnit",void 0),p=t([l("esri.views.3d.analysis.DirectLineMeasurement.DirectLineMeasurementView3D")],p);const y=p;export{y as default};
