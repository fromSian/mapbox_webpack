/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
import{isSome as t}from"../../../../core/maybe.js";import{Loadable as s}from"./Loadable.js";import{emptySymbolComplexity as r}from"./symbolComplexity.js";class i extends s{constructor(t,s,r){super(s),this.symbol=t,this.convert=r,this.graphics3DSymbol=null,this.referenced=0}getSymbolLayerSize(s){return t(this.graphics3DSymbol)?this.graphics3DSymbol.getSymbolLayerSize(s):null}get symbolLayers(){return t(this.graphics3DSymbol)?this.graphics3DSymbol.symbolLayers:[]}get extentPadding(){return t(this.graphics3DSymbol)?this.graphics3DSymbol.extentPadding:0}async doLoad(t){const s=await this.symbol.fetchSymbol({signal:t});s.id=this.symbol.id,this.graphics3DSymbol=this.convert(s),await this.graphics3DSymbol.load()}createGraphics3DGraphic(s){return t(this.graphics3DSymbol)?this.graphics3DSymbol.createGraphics3DGraphic(s,this):null}get complexity(){return t(this.graphics3DSymbol)?this.graphics3DSymbol.complexity:r}globalPropertyChanged(s,r){return!!t(this.graphics3DSymbol)&&this.graphics3DSymbol.globalPropertyChanged(s,r)}applyRendererDiff(s,r){return t(this.graphics3DSymbol)?this.graphics3DSymbol.applyRendererDiff(s,r):0}prepareSymbolPatch(s){t(this.graphics3DSymbol)&&this.graphics3DSymbol.prepareSymbolPatch(s)}updateGeometry(s,r){return!!t(this.graphics3DSymbol)&&this.graphics3DSymbol.updateGeometry(s,r)}onRemoveGraphic(){}getFastUpdateStatus(){return t(this.graphics3DSymbol)?this.graphics3DSymbol.getFastUpdateStatus():{loading:1,fast:0,slow:0}}destroy(){t(this.graphics3DSymbol)&&this.graphics3DSymbol.destroy(),this.graphics3DSymbol=void 0,super.destroy()}get destroyed(){return void 0===this.graphics3DSymbol}}export{i as default};
